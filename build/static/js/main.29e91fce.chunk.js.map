{"version":3,"sources":["services/persons.js","services/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","id","url","concat","delete","newObject","post","put","Notification","_ref","message","react_default","a","createElement","className","type","content","Person","user","remove","name","number","onClick","PersonForm","_ref2","handlePersonChange","handleNumberChange","addUser","onSubmit","class","value","onChange","FilterForm","_ref3","filter","handleFilter","text","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","useEffect","personService","result","personsFiltered","p","toLowerCase","includes","services_Notification","App_FilterForm","event","target","App_PersonForm","preventDefault","userObject","exists","find","n","changed","objectSpread","undefined","setTimeout","catch","error","window","confirm","map","person","console","log","u","App_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.29e91fce.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = './api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n    \r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl,newObject)\r\n    return request.then(response=> response.data)\r\n    \r\n}\r\n\r\nconst remove = id => {\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.delete(url)\r\n  return request.then(response => response.data)\r\n\r\n}\r\nconst update = (id, newObject) =>{\r\n  const url = `${baseUrl}/${id}`\r\n  const request = axios.put(url,newObject)\r\n  return request.then(response => response.data)\r\n  \r\n  \r\n}\r\n\r\nexport default {getAll,remove,create,update}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={message.type}>\r\n            {message.content}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport personService from './services/persons'\nimport Notification from './services/Notification'\nimport './app.css'\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState ('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState('')\n \n  useEffect(()=>{\n    personService.getAll()\n    .then(result=>{\n      setPersons(result) \n    })  \n  },[])\n  \n  const addUser = (event) => {\n    event.preventDefault()\n    const userObject = { name: newName, number:newNumber, }\n    const exists = persons.find(n=>n.name===newName)\n    const changed = { ...exists, number: newNumber }\n    //console.log('exists', exists)\n    //console.log('changed', changed)\n    if(exists===undefined){\n      personService\n        .create( userObject)\n        .then(result => {\n          setPersons(persons.concat(result))\n          setNotification({\n            content: `${userObject.name} successfully Created`,\n            type: 'notification'\n          })\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n        .catch(function(error){setNotification({content:\"\".concat(error.response.data.error),type:\"error\"})\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        })\n        \n    }else{\n      window.confirm(`${newName}is already added to phonebook, replace the old number with a new one?`)\n        ? personService\n          .update(exists.id,changed)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== exists.id ? person : response))  \n            setNotification({\n              content: `${userObject.name} Successfully Updated`,\n              type: 'notification'\n            })\n            setNewName('')  \n            setNewNumber('')\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setNotification({\n                content: `information of ${userObject.name} has already been removed from server`,\n                type: 'error'\n            })\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n        })\n        :console.log('Cancle')       \n    }}\n  \n  const remove = person => {\n    window.confirm(`Delete ${person.name}?`)\n      ? personService\n          .remove(person.id)\n          .then(response => {\n            setPersons(persons.filter(p => person.id !== p.id)) \n            setNotification({\n              content:` Successfully Remove`,\n              type: 'notification'\n            })\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setNotification({\n                content: `information of ${person.name} has already been removed from server`,\n                type: 'error'\n            })\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n          })         \n      : console.log('cancle')\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)}\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)}\n\n  const handleFilter = (event) =>{\n    setFilter(event.target.value)}\n  \n  const rows = () => personsFiltered.map(u => <Person  key={u.name}user={u}  remove={()=>remove(u)}/> )\n\n  const personsFiltered = persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notification} />\n      <ul>\n      <FilterForm  filter ={filter} handleFilter ={handleFilter} text='Filter shown with'/>\n      </ul>\n      <h1>Add a new</h1>\n      <PersonForm  name ={newName} handlePersonChange={handlePersonChange} number = {newNumber}\n       handleNumberChange ={handleNumberChange} addUser ={addUser}/>\n      <h1>Numbers</h1>\n      {rows()}\n    </div>\n  )}\n\n  const Person = ({ user,remove }) => {\n    return (  \n      <div>\n        <br />\n          <li className='person'>\n            {user.name}:\n            {user.number}\n            <button type=\"button\" onClick={remove}>remove</button>\n          </li>\n      </div>\n    )\n  }\n\n  const PersonForm  = ({name,handlePersonChange,number,handleNumberChange,addUser})=>{\n    return(\n      <form  onSubmit={addUser}>\n        <div>\n          Name <input class=\"input1\"  value ={name} onChange ={handlePersonChange}/><br></br>\n          Number <input  value={number} onChange={handleNumberChange}/>\n        </div>\n        <div>\n        <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n  const FilterForm=({filter,handleFilter,text})=>{\n    return(\n      <form>\n        {text} <input value={filter} onChange ={handleFilter}/>\n      </form>\n    )\n  }  \n \nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\nimport './index.css'\n\n\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}